<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Blogs</title>

        <link rel="stylesheet" href="/css/global.css" />
        <link rel="stylesheet" href="/css/blogs.css" />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Kode+Mono:wght@400..700&family=Space+Grotesk:wght@300..700&display=swap"
            rel="stylesheet" />
    </head>

    <body>
        <header><%- include("../includes/navbar.ejs") %></header>

        <main>
            <section class="section-1 vertical center">
                <h1 class="section-1-heading vertical center">
                    <span>DELVE INTO</span>
                    <span> THE WORLD OF </span>
                    <span>CYBER MAGIC</span>
                </h1>

                <div class="section-1-content vertical center">
                    <span>Deepen your understanding of the cyber world</span
                    ><span> with specially curated blogs</span>
                </div>
            </section>

            <section class="section-2 vertical center">
                <div class="section-2-content">
                    <% for (let blog of allBlogs) {%>
                    <div class="blog">
                        <div class="blog-content vertical">
                            <a href="/blogs/<%= blog._id %>"
                                ><h2 class="blog-heading">
                                    <span> <%= blog.title %> </span>
                                </h2></a
                            >
                            <div class="blog-date">
                                <span
                                    ><%= blog.createdAt.toLocaleString("en-US",
                                    { year: 'numeric', month: 'long', day:
                                    'numeric' }) %></span
                                >
                            </div>
                            <div class="tags-heading">Tags:</div>
                            <div class="blog-keywords">
                                <% for (let tag of blog.tags) { %>
                                <span class="keywords"><%= tag %></span>
                                <% } %> <% for (let tag of blog.tags) { %>
                                <span class="keywords"><%= tag %></span>
                                <% } %> <% for (let tag of blog.tags) { %>
                                <span class="keywords"><%= tag %></span>
                                <% } %>
                            </div>
                        </div>
                        <form action="/blogs/<%= blog._id %>" method="get">
                            <button class="blog-button">Read</button>
                        </form>
                        <% if (currUser) { %>
                        <form action="/blogs/<%= blog._id %>/edit" method="get">
                            <button class="blog-button">Edit</button>
                        </form>
                        <form
                            action="/blogs/<%= blog._id %>?_method=DELETE"
                            method="post">
                            <button class="blog-button">Delete</button>
                        </form>
                        <% } %>
                    </div>
                    <%}%>
                </div>
            </section>
        </main>

        <%- include("../includes/footer.ejs") %>

        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
        <script src="/js/blogs.js"></script>
    </body>
</html>
